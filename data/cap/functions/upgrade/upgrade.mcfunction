execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[0].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[0].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[0].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[0].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[0].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[0].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[1].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[1].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[1].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[1].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[1].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[1].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[2].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[2].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[2].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[2].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[2].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[2].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[3].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[3].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[3].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[3].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[3].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[3].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[4].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[4].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[4].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[4].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[4].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[4].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[5].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[5].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[5].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[5].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[5].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[5].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[6].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[6].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[6].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[6].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[6].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[6].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[7].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[7].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[7].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[7].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[7].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[7].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[8].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[8].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[8].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[8].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[8].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[8].sell.Count byte 1 run scoreboard players get #up3 cap_value

execute as @s store result score #up1 cap_value run data get entity @s Offers.Recipes.[9].buy.Count
execute as @s store result score #up2 cap_value run data get entity @s Offers.Recipes.[9].buyB.Count
execute as @s store result score #up3 cap_value run data get entity @s Offers.Recipes.[9].sell.Count
scoreboard players operation #up1 cap_value *= $2 cap_value
scoreboard players operation #up2 cap_value *= $2 cap_value
scoreboard players operation #up3 cap_value *= $2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[9].buy.Count byte 1 run scoreboard players get #up1 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[9].buyB.Count byte 1 run scoreboard players get #up2 cap_value
execute as @s if score #up1 cap_value matches ..64 if score #up2 cap_value matches ..64 if score #up3 cap_value matches ..64 store result entity @s Offers.Recipes.[9].sell.Count byte 1 run scoreboard players get #up3 cap_value


tag @s[tag=upgrade] add upgrade2
tag @s[tag=upgrade] remove upgrade
tag @s[tag=!upgrade,tag=!upgrade2] add upgrade
